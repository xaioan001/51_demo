C51 COMPILER V9.60.0.0   FILTERING                                                         09/13/2025 19:44:20 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE FILTERING
OBJECT MODULE PLACED IN .\Objects\filtering.obj
COMPILER INVOKED BY: D:\work\KEIL\ARM\C51\BIN\C51.EXE DRIVER\filtering.c OPTIMIZE(8,SPEED) BROWSE INCDIR(.\APP;.\DRIVER;
                    -.\STC8HLib) DEBUG OBJECTEXTEND PRINT(.\Listings\filtering.lst) TABS(2) OBJECT(.\Objects\filtering.obj)

line level    source

   1          #include "type_def.h"
   2          #include "STC8G_H_ADC.h"
   3          #include "uart.h"
   4          #include <stdio.h>
   5          #include "STC8G_H_Delay.h"
   6          /**
   7          ***********************************************************
   8          * @brief   中值滤波算法
   9          * @param 
  10          * @return  
  11          ***********************************************************
  12          */
  13          u16 Median_Filter(u16 friler_arr[],u8 len)//中智滤波需要从小到大排序
  14          {
  15   1        u16 i=0;
  16   1        u32 sum=0;
  17   1        delay_ms(1);
  18   1        for(i=0;i<len;i++)
  19   1        {
  20   2            friler_arr[i] = Get_ADCResult(0);
  21   2        }
  22   1          sort(friler_arr,len);//数值排序
  23   1          // 累加中间30个值
  24   1          for(i = 0; i < 30; i++) {
  25   2              sum += friler_arr[10 + i];
  26   2          }
  27   1          // 计算平均值
  28   1          sum = sum / 30;
  29   1         //printf("sumaaa: %d\n", sum);
  30   1          return (u16)sum;
  31   1      
  32   1      }
  33          
  34          
  35          
  36          
  37          
  38          
  39          
  40          
  41          
  42          
  43          
  44          
  45          
  46          
  47          
  48          
  49          
  50          
  51          
  52          
  53          
  54          
C51 COMPILER V9.60.0.0   FILTERING                                                         09/13/2025 19:44:20 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    194    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      10
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
